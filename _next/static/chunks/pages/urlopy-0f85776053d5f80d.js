(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[620],{4757:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/urlopy",function(){return t(6905)}])},6905:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return P}});var r=t(5893),i=t(6886),o=t(4054),a=t(4178),u=t(1737),l=t(3321),s=t(1458),c=t(7349),d=t(8384),m=t(313),p=t(2699),f=t(2175),y=t(4321),h=t(9266),b=t(5932),j=t(896),x=(t(7294),t(8767)),Z=t(5034),v=t(680),g=t(2912);function w(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function z(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){w(e,n,t[n])}))}return e}function P(){var e=(0,j.Ds)().enqueueSnackbar,n=(0,x.useQuery)(["leaveTypes"],Z.up),t=n.isLoading,w=n.data,P=void 0===w?[]:w,k=(0,x.useMutation)(Z.He,{onSuccess:function(n,t){e("Wniosek z\u0142o\u017cony!",{variant:"success"})},onSettled:function(e,n,t){t.resetForm()},onError:function(n,t){return(0,Z.yI)(e,n)}}).mutate;return(0,r.jsx)(v.L,{isLoading:t,title:"Urlopy",subtitle:"Wniosek urlopowy",children:(0,r.jsx)(f.J9,{isInitialValid:!1,initialValues:{from:new Date,to:(0,c.Z)(new Date,1),type:"VACATION",deputy:"",comment:""},validate:function(e){var n={};return e.deputy||(n.deputy=!0),e.deputy.length||(n.deputy="wprowad\u017a zast\u0119pstwo"),0===(0,d.Z)(e.to,e.from)&&(n.noDays=!0),(0,m.Z)(e.to,e.from)&&(n.to="data zako\u0144czenia urlopu nie mo\u017ce by\u0107 przed jego rozpocz\u0119ciem"),n},onSubmit:function(e,n){var t=n.resetForm,r="yyyy-MM-dd",i=(0,g.Z)(e.from,r),o=(0,g.Z)(e.to,r);return k({values:z({},e,{from:i,to:o}),resetForm:t})},children:function(e){var n=e.submitForm,t=e.isSubmitting,m=e.values,j=e.setFieldValue,x=e.setFieldTouched,Z=e.isValid;return(0,r.jsx)(f.l0,{children:(0,r.jsxs)(i.ZP,{container:!0,spacing:2,children:[(0,r.jsx)(i.ZP,{item:!0,xs:12,children:(0,r.jsx)(o.Z,{variant:"outlined",fullWidth:!0,children:(0,r.jsx)(f.gN,{name:"type",component:y.P,label:"Rodzaj urlopu",required:!0,children:P.map((function(e){return(0,r.jsx)(a.Z,{value:e.id,children:e.name},e.id)}))})})}),(0,r.jsx)(i.ZP,{item:!0,xs:6,children:(0,r.jsx)(f.gN,{name:"from",component:b.M,autoOk:!0,inputVariant:"outlined",textField:{fullWidth:!0},label:"Data rozpocz\u0119cia urlopu",required:!0,minDate:new Date,onChange:function(e){j("from",e),(0,p.Z)(e,m.to)&&j("to",(0,c.Z)(e,1)),x("to",!1,!1)},format:"DD-MM-yyyy",cancelLabel:"Anuluj"})}),(0,r.jsx)(i.ZP,{item:!0,xs:6,children:(0,r.jsx)(f.gN,{name:"to",component:b.M,autoOk:!0,inputVariant:"outlined",textField:{fullWidth:!0},label:"Data zako\u0144czenia urlopu",required:!0,minDate:(0,c.Z)(m.from,1),format:"DD-MM-yyyy",cancelLabel:"Anuluj"})}),(0,r.jsx)(i.ZP,{item:!0,xs:12,md:6,children:(0,r.jsx)(f.gN,{name:"deputy",type:"text",component:h.n,fullWidth:!0,label:"Osoba zast\u0119puj\u0105ca",placeholder:"Imi\u0119 Nazwisko",variant:"outlined",margin:"none",required:!0,InputLabelProps:{shrink:!0}})}),(0,r.jsx)(i.ZP,{item:!0,xs:12,md:6,children:(0,r.jsx)(f.gN,{name:"comment",type:"text",component:h.n,fullWidth:!0,label:"Komentarz",variant:"outlined",margin:"none",InputLabelProps:{shrink:!0}})}),(0,r.jsx)(i.ZP,{item:!0,xs:12,children:(0,r.jsxs)(u.Z,{severity:0===(0,d.Z)(m.to,m.from)?"error":"info",children:["Wybrana liczba dni na urlopie: ",(0,r.jsx)("strong",{children:(0,d.Z)(m.to,m.from)})]})}),(0,r.jsx)(i.ZP,{item:!0,xs:12,children:(0,r.jsx)(l.Z,{type:"submit",size:"large",disabled:t||!Z,onClick:n,fullWidth:!0,variant:"contained",color:"primary",children:"Wy\u015blij"})}),t&&(0,r.jsx)(s.Z,{})]})})}})})}}},function(e){e.O(0,[599,145,48,774,888,179],(function(){return n=4757,e(e.s=n);var n}));var n=e.O();_N_E=n}]);